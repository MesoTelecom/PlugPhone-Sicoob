; This file contains example extensions_custom.conf entries.
; extensions_custom.conf should be used to include customizations
; to AMP's Asterisk dialplan.

; Extensions in AMP have access to the 'from-internal' context.
; The context 'from-internal-custom' is included in 'from-internal' by default

[from-internal-custom]				
exten => 1234,1,Playback(demo-congrats)		; extensions can dial 1234
exten => 1234,2,Hangup()
exten => 999,1,Goto(teste,s,1)
exten => 991,1,Goto(teste1)
exten => 1239,n,Goto(trataanonimo701,s,1)
exten => 1238,n,Goto(trataanonimo601,s,1)
exten => 1237,n,Goto(trataanonimo602,s,1)
exten => 1236,n,Goto(trataanonimo603,s,1)
exten => 1235,n,Goto(trataanonimo604,s,1)
exten => 9292,1,Goto(solicitantemudo,s,1)

exten => 1259,n,Goto(hold,s,1)
exten => _1212XXX,1,Goto(tratah,${EXTEN},1)
exten => _1212XXXX,1,Goto(tratah,${EXTEN},1)
exten => 12695490,1,Goto(confbridge5490,s,1)
exten => 12695491,1,Goto(confbridge5491,s,1)
exten => 12695493,1,Goto(confbridge5493,s,1)
exten => 12695494,1,Goto(confbridge5494,s,1)
exten => 12695406,1,Goto(confbridge5406,s,1)
exten => 12695410,1,Goto(confbridge5410,s,1)
exten => 12695411,1,Goto(confbridge5411,s,1)
exten => 12695404,1,Goto(confbridge5404,s,1)
exten => 12695405,1,Goto(confbridge5405,s,1)
exten => 12695401,1,Goto(confbridge5401,s,1)
exten => 12695403,1,Goto(confbridge5403,s,1)
exten => 12695407,1,Goto(confbridge5407,s,1)
exten => 12695408,1,Goto(confbridge5408,s,1)
exten => 12695413,1,Goto(confbridge5413,s,1)
exten => 12694413,1,Goto(confbridge4413,s,1)
exten => 12695414,1,Goto(confbridge5414,s,1)
exten => 12695421,1,Goto(confbridge5421,s,1)
exten => 12695422,1,Goto(confbridge5422,s,1)
exten => 12695423,1,Goto(confbridge5423,s,1)
exten => 12695424,1,Goto(confbridge5424,s,1)
exten => 12695425,1,Goto(confbridge5425,s,1)
exten => 12695426,1,Goto(confbridge5426,s,1)
exten => 12695461,1,Goto(confbridge5461,s,1)
exten => 12694414,1,Goto(confbridge4414,s,1)
exten => 12694417,1,Goto(confbridge4417,s,1)
exten => 12694412,1,Goto(confbridge4412,s,1)
exten => 12694420,1,Goto(confbridge4420,s,1)
exten => 12694401,1,Goto(confbridge4401,s,1)
exten => 12693400,1,Goto(confbridge3400,s,1)
exten => 12693401,1,Goto(confbridge3401,s,1)
exten => 12693402,1,Goto(confbridge3402,s,1)
exten => 12693403,1,Goto(confbridge3403,s,1)
exten => 12693404,1,Goto(confbridge3404,s,1)
exten => 12693405,1,Goto(confbridge3405,s,1)
exten => 12693406,1,Goto(confbridge3406,s,1)
exten => 12693407,1,Goto(confbridge3407,s,1)
exten => 12693408,1,Goto(confbridge3408,s,1)
exten => 12693409,1,Goto(confbridge3409,s,1)
exten => 12693410,1,Goto(confbridge3410,s,1)
exten => 12693411,1,Goto(confbridge3411,s,1)
exten => 12693412,1,Goto(confbridge3412,s,1)
exten => 12693413,1,Goto(confbridge3413,s,1)
exten => 12693414,1,Goto(confbridge3414,s,1)
exten => 12693415,1,Goto(confbridge3415,s,1)
exten => 12693416,1,Goto(confbridge3416,s,1)
exten => 12693417,1,Goto(confbridge3417,s,1)
exten => 12693418,1,Goto(confbridge3418,s,1)
exten => 12693419,1,Goto(confbridge3419,s,1)
exten => 12693420,1,Goto(confbridge3420,s,1)
exten => 12693421,1,Goto(confbridge3421,s,1)
exten => 12693422,1,Goto(confbridge3422,s,1)
exten => 12693423,1,Goto(confbridge3423,s,1)
exten => 12693424,1,Goto(confbridge3424,s,1)
exten => 12693425,1,Goto(confbridge3425,s,1)
exten => 12693426,1,Goto(confbridge3426,s,1)
exten => 12693427,1,Goto(confbridge3427,s,1)
exten => 12693428,1,Goto(confbridge3428,s,1)
exten => 12693429,1,Goto(confbridge3429,s,1)
exten => 12693430,1,Goto(confbridge3430,s,1)
exten => 12698888,1,Goto(confbridge8888,s,1)
exten => 12699999,1,Goto(confbridge9999,s,1)
exten => 12694419,1,Goto(confbridge4419,s,1)


exten => 999337,1,Goto(addcaller,s,1)

exten => 00009,1,Playback(/var/lib/asterisk/sounds/custom/novologincad)
exten => 00009,n,Goto(loginplugphone,s,1)
exten => 00010,1,Goto(deslogaplugphone,s,1)
exten => 914,n,Goto(entrapausa,s,1)
exten => 915,n,Goto(entradespausa,s,1)

exten => h,1,Hangup()
include => custom-recordme; extensions can also dial 5678 
include => weather-wakeup
include => calendar-event
include => conferences
include => agentlogin
include => confbridge3
include => solicitantemudo

; custom-count2four,s,1 can be used as a custom target for
; a Digital Receptionist menu or a Ring Group
[custom-count2four]		
exten => s,1,SayDigits(1234)
exten => s,2,Hangup

; custom-recordme,5678,1 can be used as a custom target for
; a Digital Receptionist menu or a Ring Group
[custom-recordme]
exten => 5678,1,Wait(2)
exten => 5678,2,Record(/tmp/asterisk-recording:gsm)
exten => 5678,3,Wait(2)
exten => 5678,4,Playback(/tmp/asterisk-recording)
exten => 5678,5,Wait(2)
exten => 5678,6,Hangup 

; This macro is for dev purposes and just dumps channel/app variables.  Useful when designing new contexts.
[macro-dumpvars]
exten => s,1,Noop(ACCOUNTCODE=${ACCOUNTCODE})
exten => s,2,Noop(ANSWEREDTIME=${ANSWEREDTIME})
exten => s,3,Noop(BLINDTRANSFER=${BLINDTRANSFER})
exten => s,4,Noop(CALLERID=${CALLERID(all)})
exten => s,5,Noop(CALLERID(name)=${CALLERID(name)})
exten => s,6,Noop(CALLERID(number)=${CALLERID(number)})
exten => s,7,Noop(CALLINGPRES=${CALLINGPRES})
exten => s,8,Noop(CHANNEL=${CHANNEL})
exten => s,9,Noop(CONTEXT=${CONTEXT})
exten => s,10,Noop(DATETIME=${STRFTIME(${EPOCH},,%d%m%Y-%H:%M:%S)})
exten => s,11,Noop(DIALEDPEERNAME=${DIALEDPEERNAME})
exten => s,12,Noop(DIALEDPEERNUMBER=${DIALEDPEERNUMBER})
exten => s,13,Noop(DIALEDTIME=${DIALEDTIME})
exten => s,14,Noop(DIALSTATUS=${DIALSTATUS})
exten => s,15,Noop(DNID=${CALLERID(dnid)})
exten => s,16,Noop(EPOCH=${EPOCH})
exten => s,17,Noop(EXTEN=${EXTEN})
exten => s,18,Noop(HANGUPCAUSE=${HANGUPCAUSE})
exten => s,19,Noop(INVALID_EXTEN=${INVALID_EXTEN})
exten => s,20,Noop(LANGUAGE=${LANGUAGE()})
exten => s,21,Noop(MEETMESECS=${MEETMESECS})
exten => s,22,Noop(PRIORITY=${PRIORITY})
exten => s,23,Noop(RDNIS=${CALLERID(rdnis)}})
exten => s,24,Noop(SIPDOMAIN=${SIPDOMAIN})
exten => s,25,Noop(SIP_CODEC=${SIP_CODEC})
exten => s,26,Noop(SIPCALLID=${SIPCALLID})
exten => s,27,Noop(SIPUSERAGENT=${SIPUSERAGENT})
exten => s,29,Noop(TXTCIDNAME=${TXTCIDNAME})
exten => s,30,Noop(UNIQUEID=${UNIQUEID})
exten => s,31,Noop(TOUCH_MONITOR=${TOUCH_MONITOR})
exten => s,32,Noop(MACRO_CONTEXT=${MACRO_CONTEXT})
exten => s,33,Noop(MACRO_EXTEN=${MACRO_EXTEN})
exten => s,34,Noop(MACRO_PRIORITY=${MACRO_PRIORITY})


[tratah]
; codigo para recuperar chamada no hold 1212 +ramal

exten => _1212XXX,1,Answer()
exten => _1212XXX,n,Noop(achei o ramal ${EXTEN:4})
exten => _1212XXX,n,Set(meuramal=${EXTEN:4})
exten => _1212XXX,n,Set(meucanal=${DB(mesohold/${meuramal})})
exten => _1212XXX,n,Noop(a chave agora eh ${DB(mesohold/${meuramal})} - ${ISNULL(${DB(mesohold/${meuramal})})} )
exten => _1212XXX,n,Noop(achei o canal ${meucanal})
exten => _1212XXX,n,GotoIf($["${ISNULL(${DB(mesohold/${meuramal})})}" = "1"]?hangg)
exten => _1212XXX,n,Bridge(${meucanal},tT)
exten => _1212XXX,n(hangg),Verbose(0, The value was ${DB_DELETE(mesohold/${meuramal})})
exten => _1212XXX,n,hangup

exten => _1212XXXX,1,Answer()
exten => _1212XXXX,n,Noop(achei o ramal ${EXTEN:4})
exten => _1212XXXX,n,Set(meuramal=${EXTEN:4})
exten => _1212XXXX,n,Set(meucanal=${DB(mesohold/${meuramal})})
exten => _1212XXXX,n,Noop(a chave agora eh ${DB(mesohold/${meuramal})} - ${ISNULL(${DB(mesohold/${meuramal})})} )
exten => _1212XXXX,n,Noop(achei o canal ${meucanal})
exten => _1212XXXX,n,GotoIf($["${ISNULL(${DB(mesohold/${meuramal})})}" = "1"]?hangg)
exten => _1212XXXX,n,Bridge(${meucanal},tT)
exten => _1212XXXX,n(hangg),Verbose(0, The value was ${DB_DELETE(mesohold/${meuramal})})
exten => _1212XXXX,n,hangup

[weather-wakeup]
exten => *61,1,Answer 
exten => *61,2,AGI(nv-weather.php) 
exten => *61,3,Hangup 
exten => *62,1,Answer 
exten => *62,2,AGI(wakeup.php) 
exten => *62,3,Hangup 

[teste]
exten => s,1,Answer
exten => s,n,Goto(from-internal,700,1)

[teste1]
exten => s,1,Answer
exten => s,n,Goto(from-internal,701,1)

; Início das configurações de conf para ramais CAD

[confbridge5493]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5493,default_bridge,default_user)


[confbridge5490]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5490,default_bridge,default_user)

[confbridge5491]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5491,default_bridge,default_user)

[confbridge5406]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5406,default_bridge,default_user)

[confbridge5410]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5410,default_bridge,default_user)

[confbridge5411]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5411,default_bridge,default_user)


[confbridge9799]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(9799,default_bridge,default_user)

[confbridge5401]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5401,default_bridge,default_user)

[confbridge5403]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5403,default_bridge,default_user)

[confbridge5407]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5407,default_bridge,default_user)

[confbridge5408]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5408,default_bridge,default_user)


[confbridge5413]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5413,default_bridge,default_user)

[confbridge4413]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(4413,default_bridge,default_user)

[confbridge5414]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5414,default_bridge,default_user)

[confbridge5421]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5421,default_bridge,default_user)


[confbridge5422]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5422,default_bridge,default_user)

[confbridge5423]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5423,default_bridge,default_user)

[confbridge5424]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5424,default_bridge,default_user)

[confbridge5425]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5425,default_bridge,default_user)



[confbridge5426]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5426,default_bridge,default_user)

[confbridge5461]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5461,default_bridge,default_user)

[confbridge5404]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5404,default_bridge,default_user)

[confbridge5405]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5405,default_bridge,default_user)

[confbridge4414]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(4414,default_bridge,default_user)

[confbridge4417]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(4417,default_bridge,default_user)

[confbridge4416]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(4416,default_bridge,default_user)

[confbridge4412]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(4412,default_bridge,default_user)



[confbridge4420]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(4420,default_bridge,default_user)

[confbridge4401]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(4401,default_bridge,default_user)

[confbridge3401]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3401,default_bridge,default_user)

[confbridge3402]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3402,default_bridge,default_user)


[confbridge3403]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3403,default_bridge,default_user)


[confbridge3404]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3404,default_bridge,default_user)

[confbridge3405]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3405,default_bridge,default_user)

[confbridge3406]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3406,default_bridge,default_user)

[confbridge3407]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3407,default_bridge,default_user)

[confbridge3408]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3408,default_bridge,default_user)

[confbridge3409]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3409,default_bridge,default_user)


[confbridge3410]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3410,default_bridge,default_user)

[confbridge3411]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3411,default_bridge,default_user)

[confbridge3412]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3412,default_bridge,default_user)

[confbridge3413]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3413,default_bridge,default_user)

[confbridge3414]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3414,default_bridge,default_user)


[confbridge3415]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3415,default_bridge,default_user)


[confbridge3416]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3416,default_bridge,default_user)


[confbridge3417]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3417,default_bridge,default_user)


[confbridge3418]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3418,default_bridge,default_user)

[confbridge3419]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3419,default_bridge,default_user)

[confbridge3420]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3420,default_bridge,default_user)


[confbridge3421]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3421,default_bridge,default_user)


[confbridge3422]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3422,default_bridge,default_user)

[confbridge3423]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3423,default_bridge,default_user)

[confbridge3424]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3424,default_bridge,default_user)

[confbridge3425]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3425,default_bridge,default_user)

[confbridge3426]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3426,default_bridge,default_user)


[confbridge3427]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3427,default_bridge,default_user)

[confbridge3428]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3428,default_bridge,default_user)

[confbridge3429]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3429,default_bridge,default_user)

[confbridge3430]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3430,default_bridge,default_user)

[confbridge3400]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(3400,default_bridge,default_user)

[confbridge5410]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5410,default_bridge,default_user)

[confbridge5411]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5411,default_bridge,default_user)

[confbridge5494]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(5494,default_bridge,default_user)

[confbridge4419]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(4419,default_bridge,default_user)

[confbridge8888]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(8888,default_bridge,default_user)

[confbridge9999]
exten => s,1,Progress()
exten => s,2,Wait(1)
exten => s,n,Set(CONFBRIDGE(user,announce_join_leave)=no)
exten => s,n,Set(CONFBRIDGE(user,music_on_hold_when_empty)=no)
exten => s,n,Set(CONFBRIDGE(user,announce_only_user)=no)
exten => s,n,Set(CONFBRIDGE(user,quiet)=yes)
;exten => s,n,Set(CONFBRIDGE(user,startmuted)=yes)
exten => s,n,ConfBridge(9999,default_bridge,default_user)



; Hold usado no CAD

[hold]
exten => s,1,Answer
exten => s,n,MusicOnHold()

; Tratamento de ligação no CAD -- Substituir o número da fila correspondente
; Criar um trata anônimo para CADA FILA de atendimento e apontar o tronco para o contexto e depois para
; o contexto irá apontar para a fila
[trataanonimo701]
exten => s,1,NooP(Ligacao entrou no trata anonimo ${CALLERID(all)})
exten => s,n,Set(IDLIGACAO=${CALLERID(name)})
exten => s,n,Set(CALLERID(num)=${CALLERID(name)})
exten => s,n,GotoIf($['${IDLIGACAO}'='Anonymous'])?sim:nao)
exten => s,n(sim),Set(CALLERID(name)=00 00000 0000)
exten => s,n,Set(CALLERID(num)=0000000000)
exten => s,n(nao),Goto(from-internal,701,1)

[trataanonimo601]
exten => s,1,NooP(Ligacao entrou no trata anonimo ${CALLERID(all)})
exten => s,n,Set(IDLIGACAO=${CALLERID(name)})
exten => s,n,Set(CALLERID(num)=${CALLERID(name)})
exten => s,n,GotoIf($['${IDLIGACAO}'='Anonymous'])?sim:nao)
exten => s,n(sim),Set(CALLERID(name)=00 00000 0000)
exten => s,n,Set(CALLERID(num)=0000000000)
exten => s,n(nao),Goto(from-internal,601,1)

[trataanonimo602]
exten => s,1,NooP(Ligacao entrou no trata anonimo ${CALLERID(all)})
exten => s,n,Set(IDLIGACAO=${CALLERID(name)})
exten => s,n,Set(CALLERID(num)=${CALLERID(name)})
exten => s,n,GotoIf($['${IDLIGACAO}'='Anonymous'])?sim:nao)
exten => s,n(sim),Set(CALLERID(name)=00 00000 0000)
exten => s,n,Set(CALLERID(num)=0000000000)
exten => s,n(nao),Goto(from-internal,602,1)

[trataanonimo603]
exten => s,1,NooP(Ligacao entrou no trata anonimo ${CALLERID(all)})
exten => s,n,Set(IDLIGACAO=${CALLERID(name)})
exten => s,n,Set(CALLERID(num)=${CALLERID(name)})
exten => s,n,GotoIf($['${IDLIGACAO}'='Anonymous'])?sim:nao)
exten => s,n(sim),Set(CALLERID(name)=00 00000 0000)
exten => s,n,Set(CALLERID(num)=0000000000)
exten => s,n(nao),Goto(from-internal,603,1)


[trataanonimo604]
exten => s,1,NooP(Ligacao entrou no trata anonimo ${CALLERID(all)})
exten => s,n,Set(IDLIGACAO=${CALLERID(name)})
exten => s,n,Set(CALLERID(num)=${CALLERID(name)})
exten => s,n,GotoIf($['${IDLIGACAO}'='Anonymous'])?sim:nao)
exten => s,n(sim),Set(CALLERID(name)=00 00000 0000)
exten => s,n,Set(CALLERID(num)=0000000000)
exten => s,n(nao),Goto(from-internal,604,1)


[calendar-event]
exten => _*7899,1,Answer                               
exten => _*7899,2,Playback(${FILE_CALL})
exten => _*7899,3,Wait(2)              
exten => _*7899,4,Hangup()

[mm-announce]
exten => 9999,1,Set(CALLERID(name)="MMGETOUT")
exten => 9999,n,Answer
exten => 9999,n,Playback(conf-will-end-in)
exten => 9999,n,Playback(digits/5)
exten => 9999,n,Playback(minutes)
exten => 9999,n,Hangup
 
[conferences]
;Used by cbEnd script to play end of conference warning
exten => 5555,1,Answer
exten => 5555,n,Wait(3)
exten => 5555,n,CBMysql()
exten => 5555,n,Hangup


[agentlogin]
exten => _*8888.,1,Set(AGENTNUMBER=${EXTEN:5})
exten => _*8888.,n,NoOp(AgentNumber is ${AGENTNUMBER})
exten => _*8888.,n,AgentLogin(${AGENTNUMBER})
exten => _*8888.,n,Hangup()
; BEGIN ISSABEL CALL-CENTER CONTEXTS DO NOT REMOVE THIS LINE

; CALLCENTER PLUGPHONE 2 PMMG

[loginplugphone]
exten => s,1,NoOp(ligacao entrou no atendimento do login)
exten => s,n,Answer
exten => s,n,Playback(beep)
exten => s,n,WaitExten(8)
exten => s,n,NoOp(${PIN})
exten => _XXXXXX,1,Set(PIN=${EXTEN})
exten => _XXXXXX,n,NoOp(ligacao entrou no consulta PIN)
exten => _XXXXXX,n,MySQL(Connect connid localhost root Mtes0206 asteriskcdrdb)
exten => _XXXXXX,n,MYSQL(Query resultid ${connid} SELECT pin FROM meso_operadores WHERE pin=${PIN}
exten => _XXXXXX,n,MYSQL(Fetch fetchid ${resultid} resultado)
exten => _XXXXXX,n,NooP(${resultado}${PIN})
exten => _XXXXXX,n,GotoIf($['${resultado}'='${EXTEN}'])?pinestabonito)
exten => _XXXXXX,n,Playback(/var/lib/asterisk/sounds/custom/pinerrado)
exten => _XXXXXX,n,Hangup
exten => _XXXXXX,n(pinestabonito),Goto(adicionafila,s,1)


[adicionafila]
exten => s,1,NoOp(ligacao entrou no adiciona fila)
exten => s,n,Playback(/var/lib/asterisk/sounds/custom/digitafila)
exten => s,n,Playback(beep)
exten => s,n,WaitExten(8)
exten => s,n,NoOp(${FILA})
exten => s,n,Set(RAMAL=${CALLERID(num)})
exten => s,n,NoOp(Queue login agent ${RAMAL} to queue ${FILA});
exten => _xxx,1,Set(FILA=${EXTEN})
exten => _XXX,n,MySQL(Connect connid localhost root Mtes0206 asteriskcdrdb)
exten => _XXX,n,MYSQL(Query resultid ${connid} SELECT fila FROM meso_ramais WHERE fila=${FILA}
exten => _XXX,n,MYSQL(Fetch fetchid ${resultid} resultado)
exten => _XXX,n,NooP(${resultado}${FILA})
exten => _XXX,n,GotoIf($['${resultado}'='${EXTEN}'])?filabonita4)
exten => _XXX,n,Playback(/var/lib/asterisk/sounds/custom/RamalErro)
exten => _XXX,n,Hangup
exten => _XXX,n(filabonita4),Goto(verificalogin,s,1)

[verificalogin]
exten => s,1,NoOp(ligacao entrou no adiciona verificaLogin)
;exten => s,n,Playback(/var/lib/asterisk/sounds/custom/digitafila)
exten => s,n,Playback(beep)
exten => s,n,Set(RAMAL=${CALLERID(num)})
exten => s,n,NoOp(ligacao entrou no pausa pin PIN)
exten => s,n,MySQL(Connect connid localhost root Mtes0206 asteriskcdrdb)
exten => s,n,MYSQL(Query resultid ${connid} SELECT count(*) FROM meso_logado WHERE ramal ='${RAMAL}')
exten => s,n,MYSQL(Fetch fetchid ${resultid} resultado)
exten => s,n,GotoIf($['${resultado}'='0'])?naologado)
exten => s,n,Playback(/var/lib/asterisk/sounds/custom/precisalogarpausar)
exten => s,n,Hangup
exten => s,n(naologado),Goto(gravalogin,s,1)


[gravalogin]
exten => s,1,NoOp(ligacao entrou no gravalogin)
exten => s,n,MySQL(Connect connid 187.111.23.30 root Mtes0206 asteriskcdrdb)
exten => s,n,MySQL(Connect connid1 187.111.23.30 root Mtes0206 asteriskcdrdb)
exten => s,n,MySQL(Connect connidloc localhost root Mtes0206 asteriskcdrdb)
exten => s,n,MySQL(Connect connidloc1 localhost root Mtes0206 asteriskcdrdb)
exten => s,n,MySQL(Query resultid ${connid1} INSERT INTO logs(user, ramal, fila, motivo)VALUES ('${PIN}','SIP/${CALLERID(num)}','${FILA}','Login'))
exten => s,n,MySQL(Query resultid ${connid1} UPDATE meso_operadores_realtime set ramal = '${CALLERID(num)}', estado = 'logado', totaliga = 0,  yealink = 'SIM' where pin = '${PIN}')
exten => s,n,MySQL(Query resultid ${connidloc1} INSERT INTO logs(user, ramal, fila, motivo)VALUES ('${PIN}','SIP/${CALLERID(num)}','${FILA}','Login'))
exten => s,n,MySQL(Query resultid ${connid} INSERT INTO meso_logado (ramal, pin, fila, dia, mes, ano, hora)VALUES ('${CALLERID(num)}','${PIN}','${FILA}', '${STRFTIME(%{EPOCH},, %d )}','${STRFTIME(${EPOCH},, %m)}','${STRFTIME(${EPOCH},, %y)}' ,'${STRFTIME(${EPOCH},, %H:%M:%S)}'))
exten => s,n,MySQL(Query resultid ${connid} INSERT INTO meso_relatorio_logado_total (ramal, pin, fila, dhlogin)VALUES ('${CALLERID(num)}','${PIN}','${FILA}', '${STRFTIME(${EPOCH},, %d/%m/%y,, %H:%M:%S)}'))
exten => s,n,MySQL(Query resultid ${connidloc} INSERT INTO meso_logado (ramal, pin, fila, dia, mes, ano, hora)VALUES ('${CALLERID(num)}','${PIN}','${FILA}', '${STRFTIME(%{EPOCH},, %d )}','${STRFTIME(${EPOCH},, %m)}','${STRFTIME(${EPOCH},, %y)}' ,'${STRFTIME(${EPOCH},, %H:%M:%S)}'))
exten => s,n,MySQL(Query resultid ${connidloc} INSERT INTO meso_relatorio_logado_total (ramal, pin, fila, dhlogin)VALUES ('${CALLERID(num)}','${PIN}','${FILA}', '${STRFTIME(${EPOCH},, %d/%m/%y,, %H:%M:%S)}'))
exten => s,n,MySQL(Disconnect ${connid})
exten => s,n,MySQL(Disconnect ${connid1})
exten => s,n,MySQL(Disconnect ${connidloc})
exten => s,n,MySQL(Disconnect ${connidloc1})
exten => s,n,AddQueueMember(${FILA},SIP/${CALLERID(NUM)});
exten => s,n,Playback(/var/lib/asterisk/sounds/custom/sucessologin)
exten => s,n,Hangup

[deslogaplugphone]
exten => s,1,Set(RAMAL=${CALLERID(num)})
exten => s,n,Playback(/var/lib/asterisk/sounds/custom/novologoutcad)
exten => s,n,Playback(beep)
exten => s,n,WaitExten(8)
exten => _XXXXXX,1,Set(PIN=${EXTEN})
exten => _XXXXXX,n,MySQL(Connect connid 187.111.23.30 root Mtes0206 asteriskcdrdb)
exten => _XXXXXX,n,MySQL(Connect connidloc localhost root Mtes0206 asteriskcdrdb)
;exten => _XXXXXX,n,Set(RAMAL1=${CALLERID(num)})
exten => _XXXXXX,n,MySQL(Query resultid ${connid} DELETE FROM meso_logado WHERE pin=${PIN}
exten => _XXXXXX,n,MySQL(Query resultid ${connidloc} DELETE FROM meso_logado WHERE pin=${PIN}
exten => _XXXXXX,n,MySQL(Disconnect ${connid})
exten => _XXXXXX,n,MySQL(Disconnect ${connidloc})
exten => _XXXXXX,n,Goto(adicionafiladeslogar,s,1)
;exten => _xxx,n,RemoveQueueMember(${FILA},SIP/${CALLERID(NUM)});
;exten => _xxx,n,Playback(/var/lib/asterisk/sounds/custom/logoff)
;exten => _xxx,n,Hangup

[adicionafiladeslogar]
exten => s,1,NoOp(ligacao entrou no adiciona fila)
exten => s,n,Playback(/var/lib/asterisk/sounds/custom/filadeslog)
exten => s,n,MySQL(Connect connid1 187.111.23.30 root Mtes0206 asteriskcdrdb)
exten => s,n,MySQL(Connect connidloc1 localhost root Mtes0206 asteriskcdrdb)
exten => s,n,Playback(beep)
exten => s,n,WaitExten(8)
exten => s,n,Set(RAMAL=${CALLERID(num)})
exten => s,n,NoOp(Queue login agent ${RAMAL} to queue ${FILA});
exten => _xxx,1,Set(FILA=${EXTEN})
exten => _xxx,n,MySQL(Query resultid ${connid1} INSERT INTO logs(user, ramal, fila, motivo)VALUES ('${PIN}','SIP/${CALLERID(num)}','${FILA}','Logoff'))
exten => _xxx,n,MySQL(Query resultid ${connid1} UPDATE meso_operadores_realtime set ramal = null, estado = 'deslogado', yealink='' where pin = '${PIN}')
exten => _xxx,n,MySQL(Query resultid ${connidloc1} INSERT INTO logs(user, ramal, fila, motivo)VALUES ('${PIN}','SIP/${CALLERID(num)}','${FILA}','Logoff'))
exten => _xxx,n,RemoveQueueMember(${FILA},SIP/${CALLERID(num)});
exten => _xxx,n,Playback(/var/lib/asterisk/sounds/custom/logoff)
exten => _xxx,n,MySQL(Disconnect ${connid1})
exten => _xxx,n,MySQL(Disconnect ${connidloc1})
exten => _xxx,n,Hangup

[gravadeslogar]
exten => s,1,NoOp(ligacao entrou no gravalogin)
exten => s,n,MySQL(Connect connid 187.111.23.30 root Mtes0206 asteriskcdrdb)
exten => s,n,MySQL(Query resultid ${connid} INSERT INTO deslogado (ramal, pin, fila)VALUES ('${CALLERID(num)}','${PIN}','${FILA}'))
exten => s,n,MySQL(Disconnect ${connid})
exten => s,n,MySQL(Connect connidloc localhost root Mtes0206 asteriskcdrdb)
exten => s,n,MySQL(Query resultid ${connidloc} INSERT INTO deslogado (ramal, pin, fila)VALUES ('${CALLERID(num)}','${PIN}','${FILA}'))
exten => s,n,MySQL(Disconnect ${connidloc})
exten => s,n,Playback(/var/lib/asterisk/sounds/custom/logoff)
exten => s,n,Hangup

[entrapausa]
exten => s,1,NoOp(Entrando no entrapausa)
exten => s,n,Answer
exten => s,n,Playback(/var/lib/asterisk/sounds/custom/pausaincad)
exten => s,n,Playback(beep)
exten => s,n,WaitExten(8)
exten => s,n,NoOp(${PIN})
exten => _XXXXXX,1,Set(PIN=${EXTEN})
exten => _XXXXXX,n,NoOp(ligacao entrou no pausa pin PIN)
exten => _XXXXXX,n,MySQL(Connect connid localhost root Mtes0206 asteriskcdrdb)
exten => _XXXXXX,n,MYSQL(Query resultid ${connid} SELECT pin FROM meso_logado WHERE pin=${PIN}
exten => _XXXXXX,n,MYSQL(Fetch fetchid ${resultid} resultado)
exten => _XXXXXX,n,NooP(${resultado}${PIN})
exten => _XXXXXX,n,GotoIf($['${resultado}'='${EXTEN}'])?pincerto)
exten => _XXXXXX,n,Playback(/var/lib/asterisk/sounds/custom/precisalogarpausar)
exten => _XXXXXX,n,Hangup
exten => _XXXXXX,n(pincerto),Goto(adicionapausa,s,1)

[adicionapausa]
exten => s,1,NoOp(Entrando no adicionapausa)
exten => s,n,Playback(/var/lib/asterisk/sounds/custom/filapausar)
exten => s,n,Playback(beep)
exten => s,n,WaitExten(8)
exten => s,n,NoOp(${FILA})
exten => s,n,Set(queue=${FILA})
exten => s,n,Set(RAMAL=${CALLERID(num)})
exten => s,n,NoOp(Queue login agent ${CALLERID(num)}to queue ${FILA});
exten => _xxx,1,Set(FILA=${EXTEN})
exten => _xxx,2,PauseQueueMember(${FILA},SIP/${CALLERID(num)});
exten => _xxx,3,Goto(gravapausa,s,1)

[gravapausa]
exten => s,1,NoOp(entrando no gravapausa)
exten => s,n,Playback(/var/lib/asterisk/sounds/custom/opcoespausa)
exten => s,n,NoOp(Digite as opcoes)
exten => s,n,Playback(beep)
exten => s,n,WaitExten(8)
exten => s,n,NoOp(${PAUSA})
exten => _X,1,Set(PAUSA= Banheiro)
exten => _X,n,Set(PAUSA= Almoço)
exten => _X,n,Set(PAUSA= Reunião)
exten => _X,n,Set(PAUSA= Manutenção no sistema)
exten => _X,n,Set(PAUSA= Outros)
exten => _X,n,MySQL(Connect connidloc localhost root Mtes0206 asteriskcdrdb)
exten => _X,n,MySQL(Connect connid1 187.111.23.30 root Mtes0206 asteriskcdrdb)
exten => _X,n,MySQL(Connect connidloc1 localhost root Mtes0206 asteriskcdrdb)
exten => _X,n,MySQL(Query resultid ${connid1} INSERT INTO meso_pausado(ramal, pin, fila, motivo, datahora) VALUES('${CALLERID(num)}','${PIN}','${FILA}', '${PAUSA}', '${STRFTIME(${EPOCH},, %y/%m/%d,, %H:%M:%S)}'))
exten => _X,n,MySQL(Query resultid ${connid1} INSERT INTO logs(user, ramal, fila, motivo)VALUES ('${PIN}','SIP/${CALLERID(num)}','${FILA}','PausaIn'))
exten => _X,n,MySQL(Query resultid ${connid1} UPDATE meso_operadores_realtime set estado = 'pausado', yealink = 'SIM' where pin = '${PIN}')
exten => _X,n,MySQL(Query resultid ${connidloc} INSERT INTO meso_pausado(ramal, pin, fila, motivo, datahora) VALUES('${CALLERID(num)}','${PIN}','${FILA}', '${PAUSA}', '${STRFTIME(${EPOCH},, %y/%m/%d,, %H:%M:%S)}'))
exten => _X,n,MySQL(Query resultid ${connidloc1} INSERT INTO logs(user, ramal, fila, motivo)VALUES ('${PIN}','SIP/${CALLERID(num)}','${FILA}','PausaIn'))
exten => _X,n,MySQL(Disconnect ${connid})
exten => _X,n,MySQL(Disconnect ${connid1})
exten => _X,n,MySQL(Disconnect ${connidloc})
exten => _X,n,MySQL(Disconnect ${connidloc1})
exten => _X,n,Playback(/var/lib/asterisk/sounds/custom/ativasucesso)
exten => _X,n,Hangup

[entradespausa]
exten => s,1,NoOp(Entrando no entradespausa)
exten => s,n,Answer
exten => s,n,Playback(/var/lib/asterisk/sounds/custom/pausaoffcad)
exten => s,n,Playback(beep)
exten => s,n,WaitExten(8)
exten => s,n,NoOp(${PIN})
exten => _XXXXXX,1,Set(PIN=${EXTEN})
exten => _XXXXXX,n,NoOp(ligacao entrou no despausa pin PIN)
exten => _XXXXXX,n,MySQL(Connect connid localhost root Mtes0206 asteriskcdrdb)
exten => _XXXXXX,n,MYSQL(Query resultid ${connid} SELECT pin FROM meso_logado WHERE pin=${PIN}
exten => _XXXXXX,n,MYSQL(Fetch fetchid ${resultid} resultado)
exten => _XXXXXX,n,NooP(${resultado}${PIN})
exten => _XXXXXX,n,GotoIf($['${resultado}'='${EXTEN}'])?pincerto)
;exten => _XXXXXX,n,Playback(/var/lib/asterisk/sounds/custom/precisalogarpausar)
exten => _XXXXXX,n,Hangup
exten => _XXXXXX,n(pincerto),Goto(adicionadespausa,s,1)

[adicionadespausa]
exten => s,1,NoOp(Entrando no adicionadespausa)
exten => s,n,Playback(/var/lib/asterisk/sounds/custom/filaremovep)
exten => s,n,Playback(beep)
exten => s,n,WaitExten(8)
exten => s,n,NoOp(${FILA})
exten => s,n,Set(queue=${FILA})
exten => s,n,Set(RAMAL=${CALLERID(num)})
exten => s,n,NoOp(Queue login agent ${CALLERID(num)}to queue ${FILA});
exten => _xxx,1,Set(FILA=${EXTEN})
exten => _xxx,2,UnPauseQueueMember(${FILA},SIP/${CALLERID(num)});
exten => _xxx,3,Goto(gravadespausa,s,1)

[gravadespausa]
exten => s,1,NoOp(entrando no gravapausa)
exten => s,n,MySQL(Connect connid 187.111.23.30 root Mtes0206 asteriskcdrdb)
exten => s,n,MySQL(Connect connid1 187.111.23.30 root Mtes0206 asteriskcdrdb)
exten => s,n,MySQL(Connect connidloc localhost root Mtes0206 asteriskcdrdb)
exten => s,n,MySQL(Connect connidloc1 localhost root Mtes0206 asteriskcdrdb)
exten => s,n,MySQL(Query resultid ${connid} delete from meso_pausado where pin = '${PIN}')
exten => s,n,MySQL(Query resultid ${connid1} INSERT INTO logs(user, ramal, fila, motivo)VALUES ('${PIN}','SIP/${CALLERID(num)}','${FILA}','PausaOUT'))
exten => s,n,MySQL(Query resultid ${connid1} UPDATE meso_operadores_realtime set estado = 'logado', yealink = 'SIM' where pin = '${PIN}')
exten => s,n,MySQL(Query resultid ${connidloc} delete from meso_pausado where pin = '${PIN}')
exten => s,n,MySQL(Query resultid ${connidloc1} INSERT INTO logs(user, ramal, fila, motivo)VALUES ('${PIN}','SIP/${CALLERID(num)}','${FILA}','PausaOUT'))
exten => s,n,MySQL(Disconnect ${connid})
exten => s,n,MySQL(Disconnect ${connid1})
exten => s,n,MySQL(Disconnect ${connidloc})
exten => s,n,MySQL(Disconnect ${connidloc1})
exten => s,n,Playback(/var/lib/asterisk/sounds/custom/pausaremovida)
exten => s,n,Hangup

[tdespausar]
exten => s,1,Set(RAMAL=${CALLERID(num)})
exten => s,n,NoOp(ligacao entrou no despausar ${RAMAL})
exten => s,n,MySQL(Connect connid 187.111.23.30 root Mtes0206 asteriskcdrdb)
exten => s,n,MySQL(Connect connid1 187.111.23.30 root Mtes0206 asteriskcdrdb)
exten => s,n,MySQL(Connect connidloc localhost root Mtes0206 asteriskcdrdb)
exten => s,n,MySQL(Connect connidloc1 localhost root Mtes0206 asteriskcdrdb)
exten => s,n,MySQL(Query resultid ${connid} INSERT INTO logs(ramal, user, fila, motivo)VALUES ('${CALLERID(num)}','${PIN}','${FILA}','PausaOff'))
exten => s,n,MySQL(Query resultid ${connid} DELETE FROM meso_pausado WHERE ramal=${RAMAL})
exten => s,n,MySQL(Query resultid ${connidloc} INSERT INTO logs(ramal, user, fila, motivo)VALUES ('${CALLERID(num)}','${PIN}','${FILA}','PausaOff'))
exten => s,n,MySQL(Query resultid ${connidloc} DELETE FROM meso_pausado WHERE ramal=${RAMAL})
exten => s,n,MySQL(Disconnect ${connid})
exten => s,n,MySQL(Disconnect ${connid1})
exten => s,n,MySQL(Disconnect ${connidloc})
exten => s,n,MySQL(Disconnect ${connidloc1})
exten => s,n,UnPauseQueueMember(${FILA},SIP/${CALLERID(num)});
exten => s,n,Playback(/var/lib/asterisk/sounds/custom/removerpausa)
exten => s,n,Hangup


;fim plugphone


[app-chanspy-custom]
exten => _*777.,1,ChanSpy(SIP/${EXTEN:4},q)
exten => _*777.,n,HangUp
exten => _*770.,1,ChanSpy(SIP/${EXTEN:4},w)
exten => _*770.,n,HangUp

[solicitantemudo]

exten => s,1,Background(/var/lib/asterisk/sounds/custom/solicitantemudo)
exten => s,n,WaitExten(8)
exten => s,n,NoOp(${NUMERO})
exten => 1,1,Set(NUMERO=1)
exten => 1,n,GotoIf($['${NUMERO}'='1'])?sim:nao)
exten => 1,n(sim),Goto(from-internal,600,1)
exten => 1,n(nao),Hangup



[llamada_agendada]
exten => _X.,1,NoOP("Issabel CallCenter: AGENTCHANNEL=${AGENTCHANNEL}")
exten => _X.,n,NoOP("Issabel CallCenter: QUEUE_MONITOR_FORMAT=${QUEUE_MONITOR_FORMAT}")
exten => _X.,n,GotoIf($["${QUEUE_MONITOR_FORMAT}" = ""]?skiprecord)
exten => _X.,n,Set(CALLFILENAME=${STRFTIME(${EPOCH},,%Y%m%d-%H%M%S)}-${UNIQUEID})
exten => _X.,n,MixMonitor(${MIXMON_DIR}${CALLFILENAME}.${MIXMON_FORMAT},,${MIXMON_POST})
exten => _X.,n,Set(CDR(userfield)=audio:${CALLFILENAME}.${MIXMON_FORMAT})
exten => _X.,n(skiprecord),Dial(${AGENTCHANNEL},300,tw)
exten => h,1,Macro(hangupcall,)

; END ISSABEL CALL-CENTER CONTEXTS DO NOT REMOVE THIS LINE